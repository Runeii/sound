{"version":3,"sources":["/Users/andrewhill/Documents/Web/2018/sound/client/store/index.js","/Users/andrewhill/Documents/Web/2018/sound/client/store/library.js","/Users/andrewhill/Documents/Web/2018/sound/client/workers/dummy.worker.js","/Users/andrewhill/Documents/Web/2018/sound/client/store/player.js","/Users/andrewhill/Documents/Web/2018/sound/client/cross-platform.js","/Users/andrewhill/Documents/Web/2018/sound/client/pwa.js","/Users/andrewhill/Documents/Web/2018/sound/client/index.js","/Users/andrewhill/Documents/Web/2018/sound/client/promise-polyfill.js","/Users/andrewhill/Documents/Web/2018/sound/client/app.js","/Users/andrewhill/Documents/Web/2018/sound/client/components/App/index.js","/Users/andrewhill/Documents/Web/2018/sound/client/components/Sidebar/index.js","/Users/andrewhill/Documents/Web/2018/sound/client/components/PlayDrawer/index.js","/Users/andrewhill/Documents/Web/2018/sound/client/components/PlayDrawer/player.scss","/Users/andrewhill/Documents/Web/2018/sound/client/components/Footer/index.js","/Users/andrewhill/Documents/Web/2018/sound/client/components/Footer/style.scss","/Users/andrewhill/Documents/Web/2018/sound/client/router/index.js","/Users/andrewhill/Documents/Web/2018/sound/client/views/Library/index.js","/Users/andrewhill/Documents/Web/2018/sound/client/views/dummy.js"],"names":["__webpack_require__","_crossPlatform","_vue2","default","use","_vuex2","state","deviceId","store","Store","getters","library","tracks","getTrackFromLibrary","uuid","find","track","getTracksByAlbum","filter","album","name","mutations","actions","modules","player","_vuexfire","fb","_app2","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firebasedb","firestore","storageRef","storage","db","collection","albums","artists","TOGGLE_CLOUD_LIBRARY","boolean","cloud","STORE_UPLOAD_WORKER","worker","uploadWorker","setupCloudRefs","firebaseAction","_ref","bindFirebaseRef","importItunesLibraryFile","_ref2","path","commit","child","_dummyWorker2","postMessage","addEventListener","e","_e$data","data","type","console","log","toggleCloudLibrary","_ref3","uploadLibraryFiles","_ref4","dispatch","uploadQueue","_e$data2","updateTrack","_ref5","doc","escape","update","src.cloud","getTrackCloudSrc","_ref7","_regenerator2","mark","_callee","_ref6","wrap","_context","prev","next","ref","getDownloadURL","abrupt","sent","stop","this","_x","_x2","apply","arguments","queue","recordExists","filtered","record","length","src","module","exports","Worker","p","audioObject","Audio","currentPlaybackState","pointer","SET_PLAYBACK_SRC","SET_AUDIO_STATE","audioState","play","then","pause","currentTime","ADD_TO_QUEUE","_state$queue","Array","isArray","push","_toConsumableArray","ADD_TO_FRONT_OF_QUEUE","_state$queue2","unshift","REMOVE_FROM_QUEUE","index","splice","CLEAR_QUEUE","SET_POINTER","POINTER_FORWARDS_ONE","POINTER_BACKWARDS_ONE","CLEAR_POINTER","preparePlayback","rootState","Promise","resolve","reject","currentTrack","hasOwnProperty","playTrack","catch","err","pauseTrack","stopTrack","addToQueue","addToFrontOfQueue","clearQueue","selectQueuedTrack","_ref8","nextTrack","_ref9","previousTrack","_ref10","currentQueueId","device","_runtime","_runtime2","install","onUpdateReady","applyUpdate","onUpdated","location","reload","_app","isCordovaApp","window","cordova","app","$mount","document","_promisePolyfill","_promisePolyfill2","_vuexRouterSync","mixins","sync","_store2","_router2","mixin","methods","convertTimeHHMMSS","val","hhmmss","Date","toISOString","substr","indexOf","formatMilliseconds","decimal","minutes","Math","floor","seconds","_vueAxios2","_axios2","_vuetify2","Object","assign","router","_App2","open","components","Sidebar","Footer","created","$store","render","h","_this","attrs","id","_babelHelperVueJsxMergeProps2","fixed","clipped","value","on","input","$$v","directives","_Sidebar2","header","fluid","fill-height","_PlayDrawer2","_Footer2","_openDrawer","_this2","$createElement","color","dark","clipped-left","style","$vuetify","breakpoint","smAndUp","class","click","$event","_len","_key","undefined","concat","$route","_vuex","props","computed","mapGetters","two-line","subheader","avatar","$router","artist","_len2","_key2","_len3","_key3","_len4","_key4","drawerOpen","timings","progress","totalDuration","raw","pretty","mapState","renderRightActionButton","x-large","togglePlay","indeterminate","mapActions","_handlePlayingUI","parseInt","toFixed","_handleLoaded","duration","_jumpToTime","offset","pageX","screenX","timing","openDrawer","renderOpenDrawerActions","_len5","_key5","_this3","height","_len6","_key6","_len7","_key7","playerDrawer","playerDrawer__progress","playerDrawer__details","playerDrawer__openActions","button","visibility","shift","light","flat","to","bottom-nav","footer","_vueRouter2","mode","routes","component","view","getCollectionOfTracks","_asyncToGenerator","sort","a","b","trackNumber","map","t","playCollection","_callee2","_context2","_x3","_x4","queueCollection","_callee3","_context3","_x5","_x6","row","xs4","sm3","primary-title","icon"],"mappings":"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","file":"client.6841b136.js","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport library from './library'\nimport player from './player'\nimport { deviceId } from '../cross-platform.js'\n\nVue.use(Vuex)\n\nconst state = {\n  deviceId: deviceId(),\n}\n\nconst getters = {\n  library: (state) => {\n    return state.library.tracks || []\n  },\n  getTrackFromLibrary: (state, getters) => (uuid) => {\n    return state.library.tracks.find((track) => { return track['uuid'] === uuid }) || false\n  },\n// Change once albums have own UUIDs\n  getTracksByAlbum: (state, getters) => (uuid) => {\n    return state.library.tracks.filter((track) => { return track.album.name === uuid }) || false\n  },\n  deviceId: (state) => {\n    return state.deviceId\n  }\n}\n\nconst mutations = {\n}\n\nconst actions = {\n}\n\nconst store = new Vuex.Store({\n  state,\n  getters,\n  mutations,\n  actions,\n  modules: {\n    library: library,\n    player: player\n  }\n})\n\nexport default store\n\n\n\n// WEBPACK FOOTER //\n// ./client/store/index.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport { firebaseAction, firebaseMutations } from 'vuexfire'\nconst uuid = require('uuid/v1')\nimport firebase from 'firebase/app'\nrequire('firebase/firestore')\nrequire('firebase/storage')\n// #if process.env.TARGET_ENV === 'mobile'\nimport ImportWorker from '../workers/dummy.worker.js'\nimport UploadWorker from '../workers/dummy.worker.js'\n// #endif\n// #if process.env.TARGET_ENV !== 'mobile'\n// require('dotenv').config()\n// import ImportWorker from '../workers/importLibrary.worker.js'\n// import UploadWorker from '../workers/uploadLibrary.worker.js'\n// #endif\n\nconst fb = firebase.initializeApp({\n  apiKey: process.env.FIREBASE_KEY,\n  authDomain: process.env.FIREBASE_DOMAIN,\n  databaseURL: process.env.FIREBASE_URL,\n  projectId: process.env.FIREBASE_ID,\n  storageBucket: process.env.FIREBASE_BUCKET,\n  messagingSenderId: process.env.FIREBASE_SENDER\n})\n\nconst firebasedb = fb.firestore()\nconst storageRef = fb.storage()\n\nconst db = {\n  tracks: firebasedb.collection('tracks'),\n  albums: firebasedb.collection('albums'),\n  artists: firebasedb.collection('artists')\n}\n\nVue.use(Vuex)\n\nconst state = {\n  queue: [],\n  tracks: [],\n  artists: [],\n  albums: [],\n  cloud: false,\n  uploadWorker: false\n}\n\nconst getters = {\n  tracks: state => state.tracks,\n  artists: state => state.artists,\n  albums: state => state.albums,\n  recordExists: (state) => (type, name) => {\n    const filtered = state[type].filter(record => record.name === name)\n    return (filtered.length > 0) ? filtered : false\n  },\n  uploadQueue: state => {\n    return state.tracks.filter(record => record.src.cloud !== true)\n  },\n  uploadWorker: state => { \n    return state.uploadWorker\n  }\n}\n\nconst mutations = {\n  ...firebaseMutations,\n  TOGGLE_CLOUD_LIBRARY (state, boolean) {\n    state.cloud = boolean\n  },\n  STORE_UPLOAD_WORKER (state, worker) {\n    state.uploadWorker = worker\n  }\n}\n\nconst actions = {\n  setupCloudRefs: firebaseAction(({ bindFirebaseRef }) => {\n    bindFirebaseRef('tracks', db.tracks)\n    bindFirebaseRef('albums', db.albums)\n    bindFirebaseRef('artists', db.artists)\n  }),\n  importItunesLibraryFile ({ commit }, path) {\n    const child = new ImportWorker()\n    child.postMessage(path)\n    child.addEventListener('message', (e) => {\n      const { type, data } = e.data\n      if (type === 'update') {\n        console.log('UPDATE', data)\n      } else if (type === 'error') {\n        console.log('ERROR', data)\n      } else if (type === 'end') {\n        console.log('END', data)\n      }\n    })\n  },\n  toggleCloudLibrary ({ commit }, boolean) {\n    commit('TOGGLE_CLOUD_LIBRARY', boolean)\n  },\n  uploadLibraryFiles ({ dispatch, commit, getters }) {\n    const child = new UploadWorker()\n    commit('STORE_UPLOAD_WORKER', child)\n    child.postMessage(getters.uploadQueue)\n    child.addEventListener('message', (e) => {\n      const { type, data } = e.data\n      if (type === 'success') {\n        dispatch('updateTrack', data)\n      } else if (type === 'message') {\n        console.log(data)\n      } else if (type === 'error') {\n        console.log('ERROR', data)\n      } else if (type === 'end') {\n        console.log('END')\n      }\n    })\n    return true\n  },\n  updateTrack ({ commit }, track) {\n    db.tracks.doc(escape(track.name)).update({ 'src.cloud': true })\n  },\n  async getTrackCloudSrc ({ commit }, uuid) {\n    return await storageRef.ref(uuid).getDownloadURL()\n  }\n}\n\nexport default {\n  state,\n  getters,\n  mutations,\n  actions\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/store/library.js","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"b3ff83271d61385337da.worker.js\");\n};\n\n\n// WEBPACK FOOTER //\n// ./client/workers/dummy.worker.js","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nconst state = {\n  audioObject: new Audio(),\n  currentPlaybackState: 'stopped',\n  pointer: false,\n  queue: []\n}\n\nconst getters = {\n  currentQueueId: (state, getters) => {\n    return state.pointer !== false ? state.queue[state.pointer] : false\n  },\n  currentTrack: (state, getters) => {\n    return getters.currentQueueId ? getters.getTrackFromLibrary(getters.currentQueueId) : false\n  }\n}\n\nconst mutations = {\n  // Track object\n  SET_PLAYBACK_SRC (state, src) {\n    state.audioObject.src = src\n  },\n  SET_AUDIO_STATE (state, audioState) {\n    if (audioState === 'playing') {\n      state.audioObject.play().then(() => { state.currentPlaybackState = audioState })\n    }\n    if (audioState === 'paused') {\n      state.audioObject.pause()\n      state.currentPlaybackState = audioState\n    }\n    if (audioState === 'stopped') {\n      state.audioObject.pause()\n      state.audioObject.currentTime = 0\n      state.currentPlaybackState = audioState\n    }\n  },\n  // Queue\n  ADD_TO_QUEUE (state, uuid) {\n    Array.isArray(uuid) ? state.queue.push(...uuid) : state.queue.push(uuid)\n  },\n  ADD_TO_FRONT_OF_QUEUE (state, uuid) {\n    Array.isArray(uuid) ? state.queue.unshift(...uuid) : state.queue.unshift(uuid)\n  },\n  REMOVE_FROM_QUEUE (state, index) {\n    state.queue = state.queue.splice(index, 0)\n  },\n  CLEAR_QUEUE (state) {\n    state.queue = []\n  },\n  // Pointer\n  SET_POINTER (state, index) {\n    state.pointer = index\n  },\n  POINTER_FORWARDS_ONE (state) {\n    state.pointer = state.pointer <= state.queue.length ? state.pointer + 1 : state.queue.length\n  },\n  POINTER_BACKWARDS_ONE (state) {\n    state.pointer = state.pointer > 0 ? state.pointer - 1 : 0\n  },\n  CLEAR_POINTER (state) {\n    state.pointer = false\n  }\n}\n\nconst actions = {\n  // Player actions\n  preparePlayback ({ commit, dispatch, getters, rootState }) {\n    state.currentPlaybackState = 'loading'\n    return new Promise((resolve, reject) => {\n      if (getters.currentTrack.src.hasOwnProperty(rootState.deviceId)) {\n        commit('SET_PLAYBACK_SRC', getters.currentTrack.src[rootState.deviceId])\n        resolve()\n      } else if (getters.currentTrack.src.cloud === true) {\n        dispatch('getTrackCloudSrc', getters.currentTrack.uuid).then((src) => {\n          commit('SET_PLAYBACK_SRC', src)\n          resolve()\n        })\n      } else {\n        reject('No source found')\n      }\n    })\n  },\n  // Track object actions\n  playTrack ({ commit, dispatch }, uuid) {\n    if (uuid) {\n      commit('CLEAR_QUEUE')\n      commit('ADD_TO_QUEUE', uuid)\n      commit('SET_POINTER', 0)\n    }\n    dispatch('preparePlayback').then(() => {\n      commit('SET_AUDIO_STATE', 'playing')\n    }).catch((err) => {\n      console.log(err)\n      commit('SET_AUDIO_STATE', 'stopped')\n    })\n  },\n  pauseTrack ({ commit }) {\n    commit('SET_AUDIO_STATE', 'paused')\n  },\n  stopTrack ({ commit }) {\n    commit('SET_AUDIO_STATE', 'stopped')\n  },\n  // Queue actions\n  addToQueue ({ commit }, uuid) {\n    commit('ADD_TO_QUEUE', uuid)\n  },\n  addToFrontOfQueue ({ commit }, uuid) {\n    commit('ADD_TO_FRONT_OF_QUEUE', uuid)\n  },\n  clearQueue ({ commit }) {\n    commit('CLEAR_QUEUE')\n  },\n  // Pointer actions\n  selectQueuedTrack ({ commit }, index) {\n    commit('SET_POINTER', index)\n  },\n  nextTrack ({ commit, dispatch }) {\n    commit('POINTER_FORWARDS_ONE')\n    dispatch('playTrack')\n  },\n  previousTrack ({ commit, dispatch }) {\n    commit('POINTER_BACKWARDS_ONE')\n    dispatch('playTrack')\n  }\n}\n\nexport default {\n  state,\n  getters,\n  mutations,\n  actions\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/store/player.js","// #if process.env.TARGET_ENV === 'electron'\n// import { machineIdSync } from 'node-machine-id'\n// #endif\n\nconst deviceId = () => {\n  // #if process.env.TARGET_ENV === 'electron'\n//   return machineIdSync()\n  // #endif\n  // #endif\n\n  // #if process.env.TARGET_ENV !== 'mobile'\n//   // #if process.env.TARGET_ENV !== 'electron'\n//   return 'browser'\n//   // #endif\n  // #endif\n\n  // #if process.env.TARGET_ENV === 'mobile'\n  return device.uuid\n  // #endif\n}\n\nexport { deviceId }\n\n\n\n// WEBPACK FOOTER //\n// ./client/cross-platform.js","import runtime from 'offline-plugin/runtime'\n\nruntime.install({\n  // When an update is ready, tell ServiceWorker to take control immediately:\n  onUpdateReady () {\n    console.log('update ready')\n    runtime.applyUpdate()\n  },\n\n  // Reload to get the new version:\n  onUpdated () {\n    console.log('updated')\n    location.reload()\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./client/pwa.js","import './promise-polyfill'\nimport { app } from './app'\nimport './global.scss'\nimport '../node_modules/vuetify/dist/vuetify.min.css'\nconst isCordovaApp = !!window.cordova\n\n// Enable progressive web app support (with offline-plugin)\nif (process.env.NODE_ENV === 'production') {\n  require('./pwa')\n}\n\napp.$mount('#app')\n\ndocument.addEventListener(\"deviceready\", onDeviceReady, false)\n\nfunction onDeviceReady () {\n  console.log('Device is ready!')\n  console.log(isCordovaApp)\n}\n\nif (isCordovaApp) {\n  console.log('This is cordova')\n  document.addEventListener('deviceready', app.$mount('#app'), false)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/index.js","import Promise from 'promise-polyfill'\n\nwindow.Promise = window.Promise || Promise\n\n\n\n// WEBPACK FOOTER //\n// ./client/promise-polyfill.js","import Vue from 'vue'\nimport { sync } from 'vuex-router-sync'\nimport App from './components/App'\nimport router from './router'\nimport store from './store'\nimport axios from 'axios'\nimport VueAxios from 'vue-axios'\nimport Vuetify from 'vuetify'\nconst mixins = require('./mixins.js')\n\nsync(store, router)\n\nVue.mixin({\n  methods: {\n    convertTimeHHMMSS (val) {\n      const hhmmss = new Date(val * 1000).toISOString().substr(11, 8)\n      return (hhmmss.indexOf('00:') === 0) ? hhmmss.substr(3) : hhmmss\n    },\n    formatMilliseconds (val) {\n      const decimal = (val / 60000)\n      const minutes = Math.floor(decimal)\n      const seconds = Math.floor(((decimal - minutes) * 60))\n      return (minutes > 9 ? minutes : '0' + minutes) + ':' + (seconds > 9 ? seconds : '0' + seconds)\n    }\n  }\n})\nVue.use(VueAxios, axios)\nVue.use(Vuetify)\n\nVue.use(mixins)\n\nconst app = new Vue({\n  router,\n  store,\n  ...App\n})\n\nexport { app, router, store }\n\n\n\n// WEBPACK FOOTER //\n// ./client/app.js","import './style.css'\nimport Sidebar from '../Sidebar'\nimport PlayDrawer from '../PlayDrawer'\nimport Footer from '../Footer'\n\nexport default {\n  data () {\n    return {\n      open: false\n    }\n  },\n  components: {\n    Sidebar,\n    Footer\n  },\n  created () {\n    this.$store.dispatch('setupCloudRefs')\n  },\n  render (h) {\n    return (\n      <v-app id='app'>\n        <v-navigation-drawer id='sidebar' fixed clipped app v-model={this.open}>\n          <Sidebar />\n        </v-navigation-drawer>\n        { this.header() }\n        <v-content>\n          <v-container fluid fill-height>\n            <router-view></router-view>\n          </v-container>\n        </v-content>\n        <PlayDrawer />\n        <Footer />\n      </v-app>\n    )\n  },\n  methods: {\n    _openDrawer () {\n      this.open = !this.open\n    },\n    header () {\n      return (\n        <v-toolbar id='header' color='blue darken-3' dark app clipped-left fixed>\n          <v-toolbar-title style={this.$vuetify.breakpoint.smAndUp ? 'width: 300px; min-width: 250px' : 'min-width: 72px'} class='ml-0 pl-3'>\n            <v-toolbar-side-icon onClick={() => this._openDrawer()}></v-toolbar-side-icon>\n            <span class='hidden-xs-only'>{this.$route.name ? this.$route.name : this.$route.path}</span>\n          </v-toolbar-title>\n        </v-toolbar>\n      )\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/components/App/index.js","import { mapGetters } from 'vuex'\n\nexport default {\n  name: 'Sidebar',\n  props: ['open'],\n  computed: {\n    ...mapGetters(['currentTrack'])\n  },\n  render () {\n    return (\n        <v-list two-line subheader>\n          <v-subheader>Music</v-subheader>\n          <v-list-tile avatar on-click={() => this.$router.push({ name: 'Now Playing' })}>\n            <v-list-tile-action>\n              <v-icon>play_arrow</v-icon>\n            </v-list-tile-action>\n            { this.currentTrack\n              ? <v-list-tile-content>\n                  <v-list-tile-title>Now Playing</v-list-tile-title>\n                  <v-list-tile-sub-title>{this.currentTrack.name} - {this.currentTrack.artist.name}</v-list-tile-sub-title>\n                </v-list-tile-content>\n              : <v-list-tile-content style='opacity:0.5'>\n                  <v-list-tile-title>Now Playing</v-list-tile-title>\n                  <v-list-tile-sub-title>Nothing playing</v-list-tile-sub-title>\n                </v-list-tile-content> }\n          </v-list-tile>\n          <v-list-tile avatar on-click={() => this.$router.push({ name: 'Library' })}>\n            <v-list-tile-action>\n              <v-icon>library_music</v-icon>\n            </v-list-tile-action>\n            <v-list-tile-content>\n              <v-list-tile-title>Library</v-list-tile-title>\n              <v-list-tile-sub-title>View music library</v-list-tile-sub-title>\n            </v-list-tile-content>\n          </v-list-tile>\n          <v-subheader>Settings</v-subheader>\n          <v-list-tile avatar on-click={() => this.$router.push({ name: 'Sync' })}>\n            <v-list-tile-action>\n              <v-icon>import_export</v-icon>\n            </v-list-tile-action>\n            <v-list-tile-content>\n              <v-list-tile-title>Cloud sync</v-list-tile-title>\n              <v-list-tile-sub-title>Cloud library settings</v-list-tile-sub-title>\n            </v-list-tile-content>\n          </v-list-tile>\n          <v-list-tile avatar on-click={() => this.$router.push({ name: 'Import' })}>\n            <v-list-tile-action>\n              <v-icon>library_add</v-icon>\n            </v-list-tile-action>\n            <v-list-tile-content>\n              <v-list-tile-title>Import iTunes</v-list-tile-title>\n              <v-list-tile-sub-title>Import local iTunes library</v-list-tile-sub-title>\n            </v-list-tile-content>\n          </v-list-tile>\n        </v-list>\n    )\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./client/components/Sidebar/index.js","import { mapState, mapGetters, mapActions } from 'vuex'\nimport './player.scss'\n\nexport default {\n  data () {\n    return {\n      drawerOpen: false,\n      timings: {\n        progress: 0,\n        currentTime: '0:00',\n        totalDuration: {\n          raw: 0,\n          pretty: '0:00'\n        }\n      }\n    }\n  },\n  computed: {\n    ...mapState({\n      audioObject: state => state.player.audioObject,\n      currentPlaybackState: state => state.player.currentPlaybackState\n    }),\n    ...mapGetters(['deviceId', 'currentTrack']),\n    track () {\n      return this.currentTrack || { artist: {}, album: {} }\n    },\n    renderRightActionButton () {\n      if (this.currentPlaybackState === 'playing') {\n        return <v-icon x-large class='button' color='white' onClick={this.togglePlay()}>pause_circle_outline</v-icon>\n      } else if (this.currentPlaybackState === 'paused') {\n        return <v-icon x-large class='button' color='white' onClick={this.togglePlay()}>play_circle_outline</v-icon> \n      } else if (this.currentPlaybackState === 'loading') {\n        return <v-progress-circular indeterminate class='button' color='white'></v-progress-circular>\n      } else {\n        return <v-icon x-large class='button' color='white' onClick={this.togglePlay()}>play_circle_outline</v-icon>\n      }\n    }\n  },\n  methods: {\n    ...mapActions(['nextTrack', 'previousTrack']),\n    _handlePlayingUI () {\n      const currentTime = parseInt(this.audioObject.currentTime)\n      this.timings.progress = ((currentTime / this.timings.totalDuration.raw) * 100).toFixed(1)\n      this.timings.currentTime = this.convertTimeHHMMSS(currentTime)\n    },\n    _handleLoaded () {\n      const duration = parseInt(this.audioObject.duration)\n      this.timings.totalDuration = {\n        raw: duration,\n        pretty: this.convertTimeHHMMSS(duration)\n      }\n    },\n    _jumpToTime (click) {\n      const offset = (click.pageX / click.screenX) * 100\n      const timing = (this.audioObject.duration / 100) * offset \n      this.audioObject.currentTime = timing\n    },\n    togglePlay () {\n      if (this.currentPlaybackState === 'playing') {\n        this.$store.dispatch('pauseTrack')\n      } else {\n        this.$store.dispatch('playTrack')\n      }\n    },\n    openDrawer () {\n      this.drawerOpen = !this.drawerOpen\n    },\n    renderOpenDrawerActions () {\n      return (\n        <div class='playerDrawer__openActions'>\n          <v-icon x-large class='button' color='white' onClick={() => this.previousTrack()}>skip_previous</v-icon>\n          <v-icon x-large class='button' color='white' onClick={() => this.nextTrack()}>skip_next</v-icon>\n        </div>\n      )\n    }\n  },\n  render (h) {\n    return (\n      <v-bottom-nav fixed class={this.drawerOpen ? 'playerDrawer open' : 'playerDrawer'} height='50px' style='background-color: hsl(258.5, 30%, 42.5%); bottom:110px;'>\n        { this.drawerOpen ? this.renderOpenDrawerActions() : false }\n        <v-progress-linear class='playerDrawer__progress' v-model={this.timings.progress} onClick={this._jumpToTime} height='3' />\n        <v-icon x-large color='white' onClick={() => this.openDrawer()} class='button'>keyboard_arrow_up</v-icon>\n        <span class='playerDrawer__details'>\n          <span class='playerDrawer__details-track'>{this.track.name}</span>\n          <span class='playerDrawer__details-track'>{this.track.artist.name} - {this.track.album.name}</span>\n        </span>\n        { this.renderRightActionButton }\n      </v-bottom-nav>\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/components/PlayDrawer/index.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"playerDrawer\":\"playerDrawer\",\"open\":\"open\",\"playerDrawer__progress\":\"playerDrawer__progress\",\"playerDrawer__details\":\"playerDrawer__details\",\"playerDrawer__openActions\":\"playerDrawer__openActions\",\"button\":\"button\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/components/PlayDrawer/player.scss\n// module id = 91\n// module chunks = 1","import './style.scss'\nexport default {\n  name: 'FooterTabs',\n  data () {\n    return {\n      visibility: true\n    }\n  },\n  render (h) {\n    return (\n      <v-bottom-nav app shift light class='footer' height='50px' value={this.visibility}>\n        <v-btn flat color='teal'>\n          <span>Discover</span>\n          <v-icon>add_circle</v-icon>\n        </v-btn>\n        <v-btn flat color='teal' to='/'>\n          <span>Library</span>\n          <v-icon>library_music</v-icon>\n        </v-btn>\n        <v-btn flat color='teal' to='sync'>\n          <span>Settings</span>\n          <v-icon>settings</v-icon>\n        </v-btn>\n      </v-bottom-nav>\n    )\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./client/components/Footer/index.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"bottom-nav\":\"bottom-nav\",\"footer\":\"footer\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/components/Footer/style.scss\n// module id = 93\n// module chunks = 1","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Library from '../views/Library'\n\n// #if process.env.TARGET_ENV !== 'electron'\nimport Sync from '../views/dummy.js'\nimport Import from '../views/dummy.js'\n// #endif\n// #if process.env.TARGET_ENV === 'electron'\n// import Sync from '../views/Sync'\n// import Import from '../views/Import'\n// #endif\n\nVue.use(Router)\n\nexport default new Router({\n  mode: 'hash',\n  routes: [\n    {\n      path: '/',\n      component: Library,\n      name: 'Library'\n    },\n    {\n      path: '/import',\n      component: Import,\n      name: 'Import'\n    },\n    {\n      path: '/sync',\n      component: Sync,\n      name: 'Sync'\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./client/router/index.js","import { mapActions, mapGetters } from 'vuex'\nexport default {\n  data () {\n    return {\n      view: 'albums'\n    }\n  },\n  computed: {\n    ...mapGetters(['getTracksByAlbum']),\n    library () {\n      return this.$store.state.library[this.view]\n    }\n  },\n  methods: {\n    ...mapActions(['playTrack', 'addToQueue']),\n    async getCollectionOfTracks (type, index) {\n      return await this.getTracksByAlbum(index)\n        .sort((a, b) => a.trackNumber > b.trackNumber)\n        .map(t => { return t.uuid })\n    },\n    async playCollection (type, index) {\n      const collection = await this.getCollectionOfTracks(type, index)\n      this.playTrack(collection)\n    },\n    async queueCollection (type, index) {\n      const collection = await this.getCollectionOfTracks(type, index)\n      this.addToQueue(collection)\n    }\n  },\n  render (h) {\n    return (<v-layout row wrap>\n        { this.library.map((album) => {\n          return (\n          <v-flex xs4 sm3><v-card light>\n            <v-card-media onClick={() => this.playCollection('album', album.name)} />\n            <v-card-title primary-title onClick={() => this.playCollection('album', album.name)}>\n              <div>\n                <div class='body-2'>{album.name}</div>\n                <div class='caption grey--text'>{album.artist.name}</div>\n              </div>\n            </v-card-title>\n            <v-card-actions>\n              <v-btn icon onClick={() => this.queueCollection('album', album.name)}><v-icon>playlist_add</v-icon></v-btn>\n            </v-card-actions>\n          </v-card></v-flex>)\n        })}\n      </v-layout>)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/views/Library/index.js","export default {\n  render () {\n    return <p>Dummy</p>\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/views/dummy.js"],"sourceRoot":""}